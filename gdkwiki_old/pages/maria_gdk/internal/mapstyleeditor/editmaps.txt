======  Working with maps ======

=====  Open a map package =====

To open a map package, simply select open and choose the desired m6mmappackage-file. In order for the Map View to function, the map package has to be included in the selected template. If this is not the case, see chapter 5 on how to work with templates.

=====  Create new map =====

  * File > New 

New Map window will open, add Map Name, choose location to save the map (this should be the already configured Maps folder). Check that the Create directory for map box is checked. Optional: choose Location where the m6mdata is located, and the Map Style Editor will import m6mdata to Maps folder and create a Data Set Report.

{{maria_gdk:maps:config:vector:MARIA2012_-_Map_Style_Editor_html_74f01a7e.png?259x198|New Map box}}

=====  Create Report =====

  * Import > Create Report 

Choose Maps folder containing m6mdata, and the Map Style Editor will create a DataSet Report. The report contains information regarding the m6mdata such as attributes and attribute values. This may take a while, depending on the amount of m6mdata. It is possible to use reports that are already made. The editor will import the reports if they are placed in the same folder as the m6mdata.

=====  Create layers / groups in FeatureGrouping.xml =====

Use the add button in the Layers window, to add Group Name and Source Layer. Type (geometry) will automatically be added depending on the Source Layer. To add a new group, simply add a feature group without a source layer. Check the Is Group Setting Template box to add group to multidataset. To add a condition to the group, check the Set Condition box. Create a new condition, using the parameters available. It is possible to add parameters manually. To add a new subgroup, select the Add Layer button in the newly added group.

{{maria_gdk:maps:config:vector:MARIA2012_-_Map_Style_Editor_html_22227eba.png?208x171|Add Feature Group}}

=====  Create symbols to the specific style in Symbols.xml =====

The Symbols view is a style library, where all the symbols, colors and labels in the map are displayed. Add a new color by either use the drop down menu, or selecting a RGBA value. This color can be selected when creating a new line, area or font.

{{maria_gdk:maps:config:vector:MARIA2012_-_Map_Style_Editor_html_m17de071d.png?283x135|Styling resources}}

====  Adding a new line ====

To add a new line, select add from the Lines window. Choose Line Name, and pen, pattern or symbol. The parameter multiline is only valid with the combination pen, where it creates two parallel multilines with a given spacing.

====  Adding a new area ====

To add a new area, select add from the Areas window. Choose Area Name, and add outline, brush, bitmap brush or symbol. When adding a bitmap brush or a symbol this must be included in style resources in .PNG-format.

====  Adding a new point ====

To add a new point, select add from the Points window. Choose point from Points folder in styling resources and add visual parameters. The point files must be in PNG-format.

====  Adding a new font ====

To add a new font, selct add from the Fonts window. Choose Font Name, select color and other settings such as size, casing and font.

====  Adding a new label ====

To add a new label, select add from the Labels window. Choose Label Name and add label. Add suitable sub label name, condition (if applicable) and add item. The item is the shown label text, as either a string or an attribute value. The attribute value is derived from the Data Set Report, but can also be manually set. Add label characteristics (font) and line break.

=====  Create style in ScriptCollection.xml =====

Use the add button in the Full Styles window and create a main style group, choose name and push the adjacent save button or enter. There are two methods of adding a style to a layer/group. The easiest method is by dragging the layer/group into the style group in the Full Styles window. A dialog box containing the selected groups and available styles appear. Select the appropriate style to each group. The other method is to Add Style to the selected Style Group, choose name and geometry and drag symbol to appropriate style. Lastly drag style onto layer/group.

=====  Saving the map =====

The save button saves all related map styling files. It also restarts the Map Service, and updates the changes. If everything is done correctly, the layer/group should now be visible in the map view with the given style.

=====  Importing/Exporting styling files =====

The editor allows user to import styling files (Feature Grouping, Script Collection and Symbols) through the import tab. It is equally possible to export and save the styling files with the export tab and save buttons.

=====  Editing map packages =====

To add, edit or remove a multidataset from the map package, open Map Package in settings. Add VectorMapDataset or VectorDataRef select view info and new dataset.

{{maria_gdk:maps:config:vector:MARIA2012_-_Map_Style_Editor_html_5e4387cf.png?376x224|Editing Map Package}}
